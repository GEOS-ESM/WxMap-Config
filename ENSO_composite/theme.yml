layout1: &LAYOUT1
# geometry: 500x375
  geometry: 490x367
  scale: 1.8
  tight: 1
  bbox: 0 70 1024 730
  no_title: 1
  no_label: 1
  no_logo: 1
# no_cbar: 1
  shape: 0

defs:
  ENSO_composite:
    ref_date: 1980-12-01

theme:  
        
  plot: 

    u850_all: 
      long_name: U850
      levels: [0]
      header: $model
      title: '850 mb Zonal Wind (m)'
      xlabel: $tm_string
      layout: *LAYOUT1
      panels:
        - {field: u850_full, pos: 11, label: Mean}
        - {field: u850_anom, pos: 21, label: Anomaly}
        - {field: u850_diff, pos: 12, label: $model_name minus Neutral}
        - {field: u850_std,  pos: 22, label: Std Dev}

    u850_full:
      long_name: U850
      levels: [0]
      layers: [shaded]
      title: '[Mean] 850 mb Zonal Wind (m)'
      shaded:
        expr: full(e=7)
        cbar: Rainbow
        cdict: u850_attr

    u850_anom:
      long_name: U850 Anom
      levels: [0]
      layers: [shaded, sigsolid, sigdash]
      title: '[Anomaly] 850 mb Zonal Wind (m)'
      shaded:
        expr: anom(e=7)
        cdict: u850_anom_attr
      sigsolid:
        expr: abs(ttest(e=7))
      sigdash:
        expr: abs(ttest(e=7))

    u850_std:
      long_name: U850 Stdev
      levels: [0]
      layers: [shaded]
      title: '[Std Dev] 850 mb Zonal Wind (m)'
      shaded:
        expr: stdc(e=7)
        cbar: Blues
        cdict: u850_std_attr

    u850_diff:
      long_name: U850 Difference
      levels: [0]
      layers: [shaded]
      title: '[$model_name minus Neutral] 850 mb Zonal Wind (m)'
      shaded:
        expr: full(e=7)-full.M2NEUT.none(e=7)
        cdict: u850_anom_attr

    ts_all:
      long_name: TS
      levels: [0]
      header: $model
      title: 'Surface Temperature (C)'
      xlabel: $tm_string
      layout: *LAYOUT1
      panels:
        - {field: ts_full, pos: 11, label: Mean}
        - {field: ts_anom, pos: 21, label: Anomaly}
        - {field: ts_diff, pos: 12, label: $model_name minus Neutral}
        - {field: ts_std,  pos: 22, label: Std Dev}
        
    t2m_all:
      long_name: T2M
      levels: [0]
      header: $model
      title: 'Temperature at 2-meters (C)'
      xlabel: $tm_string
      layout: *LAYOUT1
      panels:
        - {field: t2m_full, pos: 11, label: Mean}
        - {field: t2m_anom, pos: 21, label: Anomaly}
        - {field: t2m_diff, pos: 12, label: $model_name minus Neutral}
        - {field: t2m_std,  pos: 22, label: Std Dev}

    h850_all:
      long_name: H850
      levels: [0]
      header: $model
      title: '850 mb Heights (m)'
      xlabel: $tm_string
      layout: *LAYOUT1
      panels:
        - {field: h850_full, pos: 11, label: Mean}
        - {field: h850_anom, pos: 21, label: Anomaly}
        - {field: h850_diff, pos: 12, label: $model_name minus Neutral}
        - {field: h850_std,  pos: 22, label: Std Dev}

    u850_all:
      long_name: U850
      levels: [0]
      header: $model
      title: '850 mb Zonal Wind (m)'
      xlabel: $tm_string
      layout: *LAYOUT1
      panels:
        - {field: u850_full, pos: 11, label: Mean}
        - {field: u850_anom, pos: 21, label: Anomaly}
        - {field: u850_diff, pos: 12, label: $model_name minus Neutral}
        - {field: u850_std,  pos: 22, label: Std Dev}

    prectot_all:
      long_name: Precip
      levels: [0]
      header: $model
      title: 'Precipitation Rate (mm/day)'
      xlabel: $tm_string
      layout: *LAYOUT1
      panels:
        - {field: prectot_full, pos: 11, label: Mean}
        - {field: prectot_anom, pos: 21, label: Anomaly}
        - {field: prectot_diff, pos: 12, label: $model_name minus Neutral}
        - {field: prectot_std,  pos: 22, label: Std Dev}

    h850_full:
      long_name: H850
      levels: [0]
      layers: [shaded]
      title: '[Mean] 850 mb Heights (m)'
      shaded:
        expr: full(e=4)
        cbar: Rainbow
        cdict: h850_attr
        cmin: 0
        cmax: 20
        cint: 2

    h850_anom:
      long_name: H850 Anom
      levels: [0]
      layers: [shaded, sigsolid, sigdash]
      title: '[Anomaly] 850 mb Heights (m)'
      shaded:
        expr: anom(e=4)
        cdict: h850_anom_attr
        cmin: -10
        cmax: 10
        cint: 2
      sigsolid:
        expr: abs(ttest(e=4))
      sigdash:
        expr: abs(ttest(e=4))

    h850_std:
      long_name: H850 Stdev
      levels: [0]
      layers: [shaded]
      title: '[Std Dev] 850 mb Heights (m)'
      shaded:
        expr: stdc(e=4)
        cbar: Blues
        cdict: h850_std_attr
        cmin: 0
        cmax: 1
        cint: 0.1

    h850_ttest:
      long_name: H850 T-test
      levels: [0]
      layers: [shaded, sigsolid, sigdash]
      title: '[T-test] 850 mb Heights (m)'
      shaded:
        expr: abs(ttest(e=4))
        cdict:
        cmin: -2
        cmax: 2
        cint: 0.4
      sigsolid:
        expr: abs(ttest(e=4))
      sigdash:
        expr: abs(ttest(e=4))

    h850_diff:
      long_name: H850 Difference
      levels: [0]
      layers: [shaded]
      title: '[$model_name minus Neutral] 850 mb Heights (m)'
      shaded:
        expr: full(e=4)-full.M2NEUT.none(e=4)
        cdict: h850_anom_attr
        cmin: -10
        cmax: 10
        cint: 2

    h500_all:
      long_name: H500
      levels: [0]
      header: $model
      title: '500 mb Heights (m)'
      xlabel: $tm_string
      layout: *LAYOUT1
      panels:
        - {field: h500_full, pos: 11, label: Mean}
        - {field: h500_anom, pos: 21, label: Anomaly}
        - {field: h500_diff, pos: 12, label: $model_name minus Neutral}
        - {field: h500_std,  pos: 22, label: Std Dev}

    h250_all:
      long_name: H250
      levels: [0]
      header: $model
      title: '250 mb Heights (m)'
      xlabel: $tm_string
      layout: *LAYOUT1
      panels:
        - {field: h250_full, pos: 11, label: Mean}
        - {field: h250_anom, pos: 21, label: Anomaly}
        - {field: h250_diff, pos: 12, label: $model_name minus Neutral}
        - {field: h250_std,  pos: 22, label: Std Dev}

    h250_full:
      long_name: H250
      levels: [0]
      layers: [shaded]
      title: '[Mean] 250 mb Heights (m)'
      shaded:
        expr: full(e=6)
        cbar: Rainbow
        cdict: h250_attr
        cmin: 0
        cmax: 20
        cint: 2

    h250_anom:
      long_name: H250 Anom
      levels: [0]
      layers: [shaded, sigsolid, sigdash]
      title: '[Anomaly] 250 mb Heights (m)'
      shaded:
        expr: anom(e=6)
        cdict: h250_anom_attr
        cmin: -10
        cmax: 10
        cint: 2
      sigsolid:
        expr: abs(ttest(e=6))
      sigdash:
        expr: abs(ttest(e=6))

    h250_std:
      long_name: H250 Stdev
      levels: [0]
      layers: [shaded]
      title: '[Std Dev] 250 mb Heights (m)'
      shaded:
        expr: stdc(e=6)
        cbar: Blues
        cdict: h250_std_attr
        cmin: 0
        cmax: 1
        cint: 0.1

    h250_ttest:
      long_name: H250 T-test
      levels: [0]
      layers: [shaded, sigsolid, sigdash]
      title: '[T-test] 250 mb Heights (m)'
      shaded:
        expr: abs(ttest(e=6))
        cdict:
        cmin: -2
        cmax: 2
        cint: 0.4
      sigsolid:
        expr: abs(ttest(e=6))
      sigdash:
        expr: abs(ttest(e=6))

    h250_diff:
      long_name: H250 Difference
      levels: [0]
      layers: [shaded]
      title: '[$model_name minus Neutral] 250 mb Heights (m)'
      shaded:
        expr: full(e=6)-full.M2NEUT.none(e=6)
        cdict: h250_anom_attr
        cmin: -10
        cmax: 10
        cint: 2

    h500_full:
      long_name: H500 
      levels: [0]
      layers: [shaded] 
      title: '[Mean] 500 mb Heights (m)'
      shaded:
        expr: full(e=5)
        cbar: Rainbow
        cdict: h500_attr
        cmin: 0
        cmax: 20
        cint: 2

    h500_anom:
      long_name: H500 Anom
      levels: [0]
      layers: [shaded, sigsolid, sigdash]
      title: '[Anomaly] 500 mb Heights (m)'
      shaded:
        expr: anom(e=5)
        cdict: h500_anom_attr
        cmin: -10
        cmax: 10
        cint: 2
      sigsolid:
        expr: abs(ttest(e=5))
      sigdash:
        expr: abs(ttest(e=5))

    h500_std:
      long_name: H500 Stdev
      levels: [0]
      layers: [shaded]
      title: '[Std Dev] 500 mb Heights (m)'
      shaded:
        expr: stdc(e=5)
        cbar: Blues
        cdict: h500_std_attr
        cmin: 0
        cmax: 1
        cint: 0.1

    h500_ttest:
      long_name: H500 T-test
      levels: [0]
      layers: [shaded, sigsolid, sigdash]
      title: '[T-test] 500 mb Heights (m)'
      shaded:
        expr: abs(ttest(e=5))
        cdict:
        cmin: -2
        cmax: 2
        cint: 0.4
      sigsolid:
        expr: abs(ttest(e=5))
      sigdash:
        expr: abs(ttest(e=5))

    h500_diff:
      long_name: H500 Difference
      levels: [0]
      layers: [shaded]
      title: '[$model_name minus Neutral] 500 mb Heights (m)'
      shaded:
        expr: full(e=5)-full.M2NEUT.none(e=5)
        cdict: h500_anom_attr
        cmin: -10
        cmax: 10
        cint: 2

    prectot_full:
      long_name: Precip
      levels: [0]
      layers: [shaded]
      title: '[Mean] Precipitation Rate (mm/day)'
      shaded:
        expr: full(e=3)
        cbar: MeanPrecip
        cdict: prectot_attr
        cmin: 0
        cmax: 20
        cint: 2

    prectot_anom:
      long_name: Precip Anom
      levels: [0]
      layers: [shaded, sigsolid, sigdash]
      title: '[Anomaly] Precipitation Rate (mm/day)'
      shaded:
        expr: anom(e=3)
        cbar: BrnWGrn
        cdict: prectot_anom_attr
        cmin: -10
        cmax: 10
        cint: 2
      sigsolid:
        expr: abs(ttest(e=3))
      sigdash:
        expr: abs(ttest(e=3))

    prectot_std:
      long_name: Precip Stdev
      levels: [0]
      layers: [shaded]
      title: '[Std Dev] Precipitation Rate (mm/day)'
      shaded:
        expr: stdc(e=3)
        cbar: Blues
        cdict: prectot_std_attr
        cmin: 0
        cmax: 1
        cint: 0.1

    prectot_ttest:
      long_name: Precip T-test
      levels: [0]
      layers: [shaded, sigsolid, sigdash]
      title: '[T-test] Precipitation Rate (mm/day)'
      shaded:
        expr: abs(ttest(e=3))
        cdict:
        cmin: -2
        cmax: 2
        cint: 0.4
      sigsolid:
        expr: abs(ttest(e=3))
      sigdash:
        expr: abs(ttest(e=3))

    prectot_diff:
      long_name: Precip Difference
      levels: [0]
      layers: [shaded]
      title: '[$model_name minus Neutral] Precipitation Rate (mm/day)'
      shaded:
        expr: full(e=3)-full.M2NEUT.none(e=3)
        cdict: prectot_anom_attr
        cbar: BrnWGrn
        cmin: -10
        cmax: 10
        cint: 2

    ts_full:
      long_name: TSURF
      levels: [0]
      layers: [shaded]
      title: '[Mean] Surface Temperature (C)'
      shaded:
        expr: full(e=1)-273.15
        cbar: Rainbow
        cdict: ts_attr
        cmin: -30
        cmax: 30
        cint: 5

    ts_anom:
      long_name: TSURF Anom
      levels: [0]
      layers: [shaded, sigsolid, sigdash]
      title: '[Anomaly] Surface Temperature (C)'
      shaded:
        expr: anom(e=1)
        cdict: ts_anom_attr
        cmin: -3
        cmax: 3
        cint: 0.5
      sigsolid:
        expr: abs(ttest(e=1))
      sigdash:
        expr: abs(ttest(e=1))

    ts_std:
      long_name: TSURF Stdev
      levels: [0]
      layers: [shaded]
      title: '[Std Dev] Surface Temperature (C)'
      shaded:
        expr: stdc(e=1)
        cbar: Blues
        cdict: ts_std_attr
        cmin: 0
        cmax: 10
        cint: 1

    ts_ttest:
      long_name: TSURF T-test
      levels: [0]
      layers: [shaded, sigsolid, sigdash]
      title: '[T-test] Surface Temperature (C)'
      shaded:
        expr: abs(ttest(e=1))
        cdict:
        cmin: -2
        cmax: 2
        cint: 0.4
        nsub: 8
        skip: 8
      sigsolid:
        expr: abs(ttest(e=1))
      sigdash:
        expr: abs(ttest(e=1))

    ts_diff:
      long_name: TSURF Difference
      levels: [0]
      layers: [shaded]
      title: '[$model_name minus Neutral] Surface Temperature (C)'
      shaded:
        expr: full(e=1)-full.M2NEUT.none(e=1)
        cdict: ts_anom_attr
        cmin: -3
        cmax: 3
        cint: 0.5

    t2m_full:
      long_name: T2M
      levels: [0]
      layers: [shaded]
      title: '[Mean] Temperature at 2-meters (C)'
      shaded:
        expr: full(e=2)-273.15
        cbar: Rainbow
        cdict: t2m_attr
        cmin: -30
        cmax: 30
        cint: 5

    t2m_anom:
      long_name: T2M Anom
      levels: [0]
      layers: [shaded, sigsolid, sigdash]
      title: '[Anomaly] Temperature at 2-meters (C)'
      shaded:
        expr: anom(e=2)
        cdict: t2m_anom_attr
        cmin: -3
        cmax: 3
        cint: 0.5
      sigsolid:
        expr: abs(ttest(e=2))
      sigdash:
        expr: abs(ttest(e=2))

    t2m_std:
      long_name: T2M Stdev
      levels: [0]
      layers: [shaded]
      title: '[Std Dev] Temperature at 2-meters (C)'
      shaded:
        expr: stdc(e=2)
        cbar: Blues
        cdict: t2m_std_attr
        cmin: 0
        cmax: 10
        cint: 1

    t2m_ttest:
      long_name: T2M T-test
      levels: [0]
      layers: [shaded, sigsolid, sigdash]
      title: '[T-test] Temperature at 2-meters (C)'
      shaded:
        expr: abs(ttest(e=2))
        cdict:
        cmin: -2
        cmax: 2
        cint: 0.4
        nsub: 8
        skip: 8
      sigsolid:
        expr: abs(ttest(e=2))
      sigdash:
        expr: abs(ttest(e=2))

    t2m_diff:
      long_name: T2M Difference
      levels: [0]
      layers: [shaded]
      title: '[$model_name minus Neutral] Temperature at 2-meters (C)'
      shaded:
        expr: full(e=2)-full.M2NEUT.none(e=2)
        cdict: t2m_anom_attr
        cmin: -3
        cmax: 3
        cint: 0.5

  layer:

    shaded:
      gxout: shaded
      cbunits: ''
      cbar: bwr
      nsub: 10
      skip: 10

    contour:
      gxout: contour
      clab: masked
      cthick: 5
      ccolor: 0 0 0
      clsize: 0.18
      contour: 'off'

    sigdash:
      gxout: contour
      cint: 1000
      ccolor: 0 255 0
      cthick: 11
      cstyle: 3
      clevs: 0.883 1.383 1.833
      clsize: 0.13
      clthick: 10
      clab: 'off'

    sigsolid:
      gxout: contour
      cint: 1000
      ccolor: 0 255 0
      cthick: 11
      cstyle: 1
      clevs: 2.262
      clsize: 0.13
      clthick: 10
      clab: 'off'
